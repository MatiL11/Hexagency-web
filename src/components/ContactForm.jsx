import { useState, useEffect } from 'react'
import { ChevronUp, Zap, MessageCircle } from 'lucide-react'
import emailjs from '@emailjs/browser'

const ContactForm = ({ onHideContactForm }) => {
  const [formData, setFormData] = useState({
    empresa: '',
    telefono: '',
    codigoPais: '+52',
    tipoNegocio: '',
    empleados: '',
    fechaHoraPreferida: '',
    asesor: '',
    problema: ''
  })

  const [isSubmitting, setIsSubmitting] = useState(false)
  const [isSubmitted, setIsSubmitted] = useState(false)
  
  // Estado para el contador del banner
  const [timeLeft, setTimeLeft] = useState({
    days: 0,
    minutes: 59,
    seconds: 22
  })

  // Efecto para el contador regresivo
  useEffect(() => {
    const timer = setInterval(() => {
      setTimeLeft(prevTime => {
        if (prevTime.seconds > 0) {
          return { ...prevTime, seconds: prevTime.seconds - 1 }
        } else if (prevTime.minutes > 0) {
          return { ...prevTime, minutes: prevTime.minutes - 1, seconds: 59 }
        } else if (prevTime.days > 0) {
          return { days: prevTime.days - 1, minutes: 59, seconds: 59 }
        } else {
          // Reiniciar el contador cuando llegue a cero
          return { days: 0, minutes: 59, seconds: 22 }
        }
      })
    }, 1000)

    return () => clearInterval(timer)
  }, [])

  const handleChange = (e) => {
    setFormData({
      ...formData,
      [e.target.name]: e.target.value
    })
  }

  const handleSubmit = async (e) => {
    e.preventDefault()
    setIsSubmitting(true)
    
    try {
      // TODO: Configurar EmailJS cuando el cliente est√© listo
      // const serviceID = import.meta.env.VITE_EMAILJS_SERVICE_ID
      // const templateID = import.meta.env.VITE_EMAILJS_TEMPLATE_ID
      // const publicKey = import.meta.env.VITE_EMAILJS_PUBLIC_KEY
      
      // Preparar mensaje para WhatsApp con los datos del formulario
      const whatsappMessage = `¬°Hola! Me interesa el asesoramiento de Hexagency.

üìã *Informaci√≥n de mi empresa:*
üè¢ *Empresa:* ${formData.empresa}
üì± *Tel√©fono:* ${formData.codigoPais} ${formData.telefono}
üè™ *Tipo de negocio:* ${formData.tipoNegocio}
üë• *Empleados:* ${formData.empleados}
üìÖ *Fecha/hora preferida:* ${formData.fechaHoraPreferida}
üë®‚Äçüíº *Asesor preferido:* ${formData.asesor}

üí¨ *Problema a solucionar:*
${formData.problema}

¬øPodr√≠an contactarme para una consulta personalizada?`

      // Redirigir a WhatsApp con el mensaje pre-llenado
      const encodedMessage = encodeURIComponent(whatsappMessage)
      const whatsappURL = `https://wa.me/523511240636?text=${encodedMessage}`
      
      // Abrir WhatsApp en una nueva pesta√±a
      window.open(whatsappURL, '_blank')
      
      setIsSubmitting(false)
      setIsSubmitted(true)
      
      // Limpiar formulario
      setFormData({
        empresa: '',
        telefono: '',
        codigoPais: '+52',
        tipoNegocio: '',
        empleados: '',
        fechaHoraPreferida: '',
        asesor: '',
        problema: ''
      })
      
    } catch (error) {
      console.error('Error procesando formulario:', error)
      setIsSubmitting(false)
      
      // Mostrar mensaje de error al usuario
      alert('Hubo un error al procesar el formulario. Por favor, int√©ntalo de nuevo.')
    }
  }

  if (isSubmitted) {
    return (
      <section id="contacto" className="py-20 bg-white">
        <div className="max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
          <div className="bg-green-50 border border-green-200 rounded-lg p-8">
            <div className="text-green-600 text-6xl mb-4">‚úì</div>
            <h2 className="text-3xl font-bold text-black mb-4">
              ¬°Redirigiendo a WhatsApp!
            </h2>
            <p className="text-lg text-gray-600 mb-6">
              Se ha abierto WhatsApp con tu mensaje pre-llenado. Env√≠a el mensaje para que nos pongamos en contacto contigo.
            </p>
            <button
              onClick={() => {
                setIsSubmitted(false)
                setFormData({
                  empresa: '',
                  telefono: '',
                  codigoPais: '+52',
                  tipoNegocio: '',
                  empleados: '',
                  fechaHoraPreferida: '',
                  asesor: '',
                  problema: ''
                })
              }}
              className="bg-black text-white px-6 py-3 rounded-lg hover:bg-gray-800 transition-colors"
            >
              Hacer otra consulta
            </button>
          </div>
        </div>
      </section>
    )
  }

  return (
    <section id="contacto" className="min-h-screen bg-white flex items-center justify-center relative py-8 sm:py-12">
      {/* Banner de WhatsApp - Contenedor centrado */}
      <div className="absolute top-16 z-20 max-w-6xl mx-auto w-full px-4 sm:px-6 lg:px-8">
        <div className="bg-black rounded-lg p-3 sm:p-4 shadow-lg">
          <div className="flex flex-col sm:flex-row items-center justify-between space-y-3 sm:space-y-0 sm:space-x-6">
            {/* Secci√≥n izquierda - Icono y texto */}
            <div className="flex items-center space-x-2 sm:space-x-3">
              <Zap className="w-5 h-5 sm:w-6 sm:h-6 text-white" />
              <span className="text-white font-medium text-xs sm:text-sm md:text-base">
                ¬°Agenda tu asesoramiento express! Es por tiempo limitado:
              </span>
            </div>
            
            {/* Secci√≥n central - Contador */}
            <div className="flex items-center space-x-1 sm:space-x-2">
              <div className="bg-gray-800 rounded-lg px-2 sm:px-3 py-1 sm:py-2 text-center">
                <div className="text-white text-sm sm:text-lg font-bold">
                  {String(timeLeft.days).padStart(2, '0')}
                </div>
                <div className="text-white text-xs">D√çAS</div>
              </div>
              <div className="bg-gray-800 rounded-lg px-2 sm:px-3 py-1 sm:py-2 text-center">
                <div className="text-white text-sm sm:text-lg font-bold">
                  {String(timeLeft.minutes).padStart(2, '0')}
                </div>
                <div className="text-white text-xs">MIN</div>
              </div>
              <div className="bg-gray-800 rounded-lg px-2 sm:px-3 py-1 sm:py-2 text-center">
                <div className="text-white text-sm sm:text-lg font-bold">
                  {String(timeLeft.seconds).padStart(2, '0')}
                </div>
                <div className="text-white text-xs">SEG</div>
              </div>
            </div>
            
            {/* Secci√≥n derecha - Bot√≥n de WhatsApp */}
            <button 
              className="bg-green-500 hover:bg-green-600 text-white px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg flex items-center space-x-1 sm:space-x-2 transition-colors"
              onClick={() => {
                const message = encodeURIComponent('Hola! Estoy interesado en el asesoramiento express de Hexagency. ¬øPodr√≠an contactarme?')
                window.open(`https://wa.me/523511240636?text=${message}`, '_blank')
              }}
            >
              <MessageCircle className="w-4 h-4 sm:w-5 sm:h-5" />
              <span className="font-medium text-xs sm:text-sm">Cont√°ctanos</span>
            </button>
          </div>
        </div>
      </div>

      {/* Bot√≥n para m√≥viles - Esquina inferior derecha */}
      <button
        onClick={() => {
          // Primero hacer scroll suave
          window.scrollTo({
            top: 0,
            behavior: 'smooth'
          })
          
          // Despu√©s de un delay, ocultar el formulario
          setTimeout(() => {
            onHideContactForm && onHideContactForm()
          }, 800)
        }}
        className="lg:hidden fixed bottom-4 right-4 bg-black text-white p-3 rounded-full hover:bg-gray-800 transition-all duration-300 transform hover:scale-110 shadow-lg z-50"
        title="Volver al inicio"
      >
        <ChevronUp className="w-5 h-5" />
      </button>

      {/* Bot√≥n para desktop - Parte superior derecha */}
      <button
        onClick={() => {
          // Primero hacer scroll suave
          window.scrollTo({
            top: 0,
            behavior: 'smooth'
          })
          
          // Despu√©s de un delay, ocultar el formulario
          setTimeout(() => {
            onHideContactForm && onHideContactForm()
          }, 800)
        }}
        className="hidden lg:block absolute top-16 right-4 bg-black text-white p-3 rounded-full hover:bg-gray-800 transition-all duration-300 transform hover:scale-110 shadow-lg z-10"
        title="Volver al inicio"
      >
        <ChevronUp className="w-6 h-6" />
      </button>
      
      <div className="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 w-full mt-32">
        <div className="grid grid-cols-1 lg:grid-cols-4 gap-4 sm:gap-6">
          {/* Formulario completo */}
          <form onSubmit={handleSubmit} className="lg:col-span-4 grid grid-cols-1 lg:grid-cols-4 gap-4 sm:gap-6">
            {/* Contenedor agrupado: Texto + Formulario + Bot√≥n */}
            <div className="lg:col-span-4">
              {/* Texto centrado arriba del formulario */}
              <div className="text-center mb-6 sm:mb-8">
                <h2 className="text-xl sm:text-2xl md:text-3xl font-bold text-black mb-3">
                  Consulta Gratuita
                </h2>
                <div className="h-1 w-16 sm:w-24 bg-black mx-auto mb-4"></div>
                <p className="text-sm sm:text-base text-gray-600 mb-4 sm:mb-6 max-w-2xl mx-auto">
                  Completa este formulario y te contactaremos para una consulta personalizada sobre tu negocio
                </p>
              </div>
              {/* Formulario */}
              <div className="bg-black p-4 sm:p-6 rounded-lg shadow-lg border border-gray-800">
                <div className="flex items-center mb-4 sm:mb-6">
                  <div className="w-1.5 sm:w-2 h-6 sm:h-8 bg-white rounded-full mr-3 sm:mr-4"></div>
                  <h3 className="text-lg sm:text-xl font-bold text-white">Informaci√≥n de Contacto</h3>
                </div>
                
                <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6">
                  {/* Campo 1 - Nombre de tu empresa */}
                  <div className="group">
                    <label className="block text-xs sm:text-sm font-semibold text-gray-300 mb-2 sm:mb-3 group-focus-within:text-white transition-colors">
                      Nombre de tu empresa *
                    </label>
                    <input
                      type="text"
                      name="empresa"
                      value={formData.empresa}
                      onChange={handleChange}
                      required
                      className="w-full px-2 sm:px-3 py-1 sm:py-1.5 bg-white border-2 border-gray-300 rounded-lg focus:ring-4 focus:ring-black/20 focus:border-black transition-all duration-300 text-black placeholder-gray-500 text-sm sm:text-base"
                      placeholder="Nombre de tu empresa"
                    />
                  </div>

                  {/* Campo 2 - N√∫mero con c√≥digo de pa√≠s */}
                  <div className="group">
                    <label className="block text-xs sm:text-sm font-semibold text-gray-300 mb-2 sm:mb-3 group-focus-within:text-white transition-colors">
                      N√∫mero de tel√©fono *
                    </label>
                    <div className="flex space-x-2">
                      {/* Selector de pa√≠s */}
                      <select
                        name="codigoPais"
                        value={formData.codigoPais}
                        onChange={handleChange}
                        className="w-24 px-2 py-1 sm:py-1.5 bg-white border-2 border-gray-300 rounded-lg focus:ring-4 focus:ring-black/20 focus:border-black transition-all duration-300 text-black text-sm sm:text-base"
                      >
                        <option value="+52">üá≤üáΩ +52</option>
                        <option value="+1">üá∫üá∏ +1</option>
                        <option value="+1">üá®üá¶ +1</option>
                        <option value="+54">üá¶üá∑ +54</option>
                        <option value="+55">üáßüá∑ +55</option>
                        <option value="+56">üá®üá± +56</option>
                        <option value="+57">üá®üá¥ +57</option>
                        <option value="+51">üáµüá™ +51</option>
                        <option value="+58">üáªüá™ +58</option>
                        <option value="+34">üá™üá∏ +34</option>
                        <option value="+33">üá´üá∑ +33</option>
                        <option value="+49">üá©üá™ +49</option>
                        <option value="+44">üá¨üáß +44</option>
                        <option value="+39">üáÆüáπ +39</option>
                        <option value="+86">üá®üá≥ +86</option>
                        <option value="+81">üáØüáµ +81</option>
                        <option value="+82">üá∞üá∑ +82</option>
                        <option value="+91">üáÆüá≥ +91</option>
                        <option value="+61">üá¶üá∫ +61</option>
                        <option value="+7">üá∑üá∫ +7</option>
                        <option value="+90">üáπüá∑ +90</option>
                        <option value="+966">üá∏üá¶ +966</option>
                        <option value="+971">üá¶üá™ +971</option>
                        <option value="+27">üáøüá¶ +27</option>
                        <option value="+20">üá™üá¨ +20</option>
                        <option value="+234">üá≥üá¨ +234</option>
                        <option value="+254">üá∞üá™ +254</option>
                        <option value="+212">üá≤üá¶ +212</option>
                        <option value="+213">üá©üáø +213</option>
                        <option value="+216">üáπüá≥ +216</option>
                        <option value="+218">üá±üáæ +218</option>
                        <option value="+220">üá¨üá≤ +220</option>
                        <option value="+221">üá∏üá≥ +221</option>
                        <option value="+222">üá≤üá∑ +222</option>
                        <option value="+223">üá≤üá± +223</option>
                        <option value="+224">üá¨üá≥ +224</option>
                        <option value="+225">üá®üáÆ +225</option>
                        <option value="+226">üáßüá´ +226</option>
                        <option value="+227">üá≥üá™ +227</option>
                        <option value="+228">üáπüá¨ +228</option>
                        <option value="+229">üáßüáØ +229</option>
                        <option value="+230">üá≤üá∫ +230</option>
                        <option value="+231">üá±üá∑ +231</option>
                        <option value="+232">üá∏üá± +232</option>
                        <option value="+233">üá¨üá≠ +233</option>
                        <option value="+234">üá≥üá¨ +234</option>
                        <option value="+235">üáπüá© +235</option>
                        <option value="+236">üá®üá´ +236</option>
                        <option value="+237">üá®üá≤ +237</option>
                        <option value="+238">üá®üáª +238</option>
                        <option value="+239">üá∏üáπ +239</option>
                        <option value="+240">üá¨üá∂ +240</option>
                        <option value="+241">üá¨üá¶ +241</option>
                        <option value="+242">üá®üá¨ +242</option>
                        <option value="+243">üá®üá© +243</option>
                        <option value="+244">üá¶üá¥ +244</option>
                        <option value="+245">üá¨üáº +245</option>
                        <option value="+246">üáÆüá¥ +246</option>
                        <option value="+247">üá¶üá® +247</option>
                        <option value="+248">üá∏üá® +248</option>
                        <option value="+249">üá∏üá© +249</option>
                        <option value="+250">üá∑üáº +250</option>
                        <option value="+251">üá™üáπ +251</option>
                        <option value="+252">üá∏üá¥ +252</option>
                        <option value="+253">üá©üáØ +253</option>
                        <option value="+254">üá∞üá™ +254</option>
                        <option value="+255">üáπüáø +255</option>
                        <option value="+256">üá∫üá¨ +256</option>
                        <option value="+257">üáßüáÆ +257</option>
                        <option value="+258">üá≤üáø +258</option>
                        <option value="+260">üáøüá≤ +260</option>
                        <option value="+261">üá≤üá¨ +261</option>
                        <option value="+262">üá∑üá™ +262</option>
                        <option value="+263">üáøüáº +263</option>
                        <option value="+264">üá≥üá¶ +264</option>
                        <option value="+265">üá≤üáº +265</option>
                        <option value="+266">üá±üá∏ +266</option>
                        <option value="+267">üáßüáº +267</option>
                        <option value="+268">üá∏üáø +268</option>
                        <option value="+269">üá∞üá≤ +269</option>
                        <option value="+290">üá∏üá≠ +290</option>
                        <option value="+291">üá™üá∑ +291</option>
                        <option value="+297">üá¶üáº +297</option>
                        <option value="+298">üá´üá¥ +298</option>
                        <option value="+299">üá¨üá± +299</option>
                        <option value="+350">üá¨üáÆ +350</option>
                        <option value="+351">üáµüáπ +351</option>
                        <option value="+352">üá±üá∫ +352</option>
                        <option value="+353">üáÆüá™ +353</option>
                        <option value="+354">üáÆüá∏ +354</option>
                        <option value="+355">üá¶üá± +355</option>
                        <option value="+356">üá≤üáπ +356</option>
                        <option value="+357">üá®üáæ +357</option>
                        <option value="+358">üá´üáÆ +358</option>
                        <option value="+359">üáßüá¨ +359</option>
                        <option value="+370">üá±üáπ +370</option>
                        <option value="+371">üá±üáª +371</option>
                        <option value="+372">üá™üá™ +372</option>
                        <option value="+373">üá≤üá© +373</option>
                        <option value="+374">üá¶üá≤ +374</option>
                        <option value="+375">üáßüáæ +375</option>
                        <option value="+376">üá¶üá© +376</option>
                        <option value="+377">üá≤üá® +377</option>
                        <option value="+378">üá∏üá≤ +378</option>
                        <option value="+380">üá∫üá¶ +380</option>
                        <option value="+381">üá∑üá∏ +381</option>
                        <option value="+382">üá≤üá™ +382</option>
                        <option value="+383">üáΩüá∞ +383</option>
                        <option value="+385">üá≠üá∑ +385</option>
                        <option value="+386">üá∏üáÆ +386</option>
                        <option value="+387">üáßüá¶ +387</option>
                        <option value="+389">üá≤üá∞ +389</option>
                        <option value="+420">üá®üáø +420</option>
                        <option value="+421">üá∏üá∞ +421</option>
                        <option value="+423">üá±üáÆ +423</option>
                        <option value="+500">üá´üá∞ +500</option>
                        <option value="+501">üáßüáø +501</option>
                        <option value="+502">üá¨üáπ +502</option>
                        <option value="+503">üá∏üáª +503</option>
                        <option value="+504">üá≠üá≥ +504</option>
                        <option value="+505">üá≥üáÆ +505</option>
                        <option value="+506">üá®üá∑ +506</option>
                        <option value="+507">üáµüá¶ +507</option>
                        <option value="+508">üáµüá≤ +508</option>
                        <option value="+509">üá≠üáπ +509</option>
                        <option value="+590">üá¨üáµ +590</option>
                        <option value="+591">üáßüá¥ +591</option>
                        <option value="+592">üá¨üáæ +592</option>
                        <option value="+593">üá™üá® +593</option>
                        <option value="+594">üá¨üá´ +594</option>
                        <option value="+595">üáµüáæ +595</option>
                        <option value="+596">üá≤üá∂ +596</option>
                        <option value="+597">üá∏üá∑ +597</option>
                        <option value="+598">üá∫üáæ +598</option>
                        <option value="+599">üáßüá∂ +599</option>
                        <option value="+670">üáπüá± +670</option>
                        <option value="+672">üá¶üá∂ +672</option>
                        <option value="+673">üáßüá≥ +673</option>
                        <option value="+674">üá≥üá∑ +674</option>
                        <option value="+675">üáµüá¨ +675</option>
                        <option value="+676">üáπüá¥ +676</option>
                        <option value="+677">üá∏üáß +677</option>
                        <option value="+678">üáªüá∫ +678</option>
                        <option value="+679">üá´üáØ +679</option>
                        <option value="+680">üáµüáº +680</option>
                        <option value="+681">üáºüá´ +681</option>
                        <option value="+682">üá®üá∞ +682</option>
                        <option value="+683">üá≥üá∫ +683</option>
                        <option value="+684">üá¶üá∏ +684</option>
                        <option value="+685">üáºüá∏ +685</option>
                        <option value="+686">üá∞üáÆ +686</option>
                        <option value="+687">üá≥üá® +687</option>
                        <option value="+688">üáπüáª +688</option>
                        <option value="+689">üáµüá´ +689</option>
                        <option value="+690">üáπüá∞ +690</option>
                        <option value="+691">üá´üá≤ +691</option>
                        <option value="+692">üá≤üá≠ +692</option>
                        <option value="+850">üá∞üáµ +850</option>
                        <option value="+852">üá≠üá∞ +852</option>
                        <option value="+853">üá≤üá¥ +853</option>
                        <option value="+855">üá∞üá≠ +855</option>
                        <option value="+856">üá±üá¶ +856</option>
                        <option value="+880">üáßüá© +880</option>
                        <option value="+886">üáπüáº +886</option>
                        <option value="+960">üá≤üáª +960</option>
                        <option value="+961">üá±üáß +961</option>
                        <option value="+962">üáØüá¥ +962</option>
                        <option value="+963">üá∏üáæ +963</option>
                        <option value="+964">üáÆüá∂ +964</option>
                        <option value="+965">üá∞üáº +965</option>
                        <option value="+966">üá∏üá¶ +966</option>
                        <option value="+967">üáæüá™ +967</option>
                        <option value="+968">üá¥üá≤ +968</option>
                        <option value="+970">üáµüá∏ +970</option>
                        <option value="+971">üá¶üá™ +971</option>
                        <option value="+972">üáÆüá± +972</option>
                        <option value="+973">üáßüá≠ +973</option>
                        <option value="+974">üá∂üá¶ +974</option>
                        <option value="+975">üáßüáπ +975</option>
                        <option value="+976">üá≤üá≥ +976</option>
                        <option value="+977">üá≥üáµ +977</option>
                        <option value="+992">üáπüáØ +992</option>
                        <option value="+993">üáπüá≤ +993</option>
                        <option value="+994">üá¶üáø +994</option>
                        <option value="+995">üá¨üá™ +995</option>
                        <option value="+996">üá∞üá¨ +996</option>
                        <option value="+998">üá∫üáø +998</option>
                      </select>
                      {/* Campo de n√∫mero */}
                      <input
                        type="tel"
                        name="telefono"
                        value={formData.telefono}
                        onChange={handleChange}
                        required
                        className="flex-1 px-2 sm:px-3 py-1 sm:py-1.5 bg-white border-2 border-gray-300 rounded-lg focus:ring-4 focus:ring-black/20 focus:border-black transition-all duration-300 text-black placeholder-gray-500 text-sm sm:text-base"
                        placeholder="55 1234 5678"
                      />
                    </div>
                  </div>

                  {/* Campo 3 - Tipo de negocio */}
                  <div className="group">
                    <label className="block text-xs sm:text-sm font-semibold text-gray-300 mb-2 sm:mb-3 group-focus-within:text-white transition-colors">
                      Tipo de negocio *
                    </label>
                    <select
                      name="tipoNegocio"
                      value={formData.tipoNegocio}
                      onChange={handleChange}
                      required
                      className="w-full px-2 sm:px-3 py-1 sm:py-1.5 bg-white border-2 border-gray-300 rounded-lg focus:ring-4 focus:ring-black/20 focus:border-black transition-all duration-300 text-black text-sm sm:text-base"
                    >
                      <option value="">Selecciona tu tipo de negocio</option>
                      <option value="retail">Retail / Tienda f√≠sica</option>
                      <option value="servicios">Servicios profesionales</option>
                      <option value="restaurante">Restaurante / Gastronom√≠a</option>
                      <option value="salud">Salud / Bienestar</option>
                      <option value="educacion">Educaci√≥n</option>
                      <option value="tecnologia">Tecnolog√≠a</option>
                      <option value="otro">Otro</option>
                    </select>
                  </div>

                  {/* Campo 4 - N√∫mero de empleados */}
                  <div className="group">
                    <label className="block text-xs sm:text-sm font-semibold text-gray-300 mb-2 sm:mb-3 group-focus-within:text-white transition-colors">
                      N√∫mero de empleados *
                    </label>
                    <select
                      name="empleados"
                      value={formData.empleados}
                      onChange={handleChange}
                      required
                      className="w-full px-2 sm:px-3 py-1 sm:py-1.5 bg-white border-2 border-gray-300 rounded-lg focus:ring-4 focus:ring-black/20 focus:border-black transition-all duration-300 text-black text-sm sm:text-base"
                    >
                      <option value="">Cantidad de empleados</option>
                      <option value="1-5">1-5 empleados</option>
                      <option value="6-20">6-20 empleados</option>
                      <option value="21-50">21-50 empleados</option>
                      <option value="50+">50+ empleados</option>
                    </select>
                  </div>

                  {/* Campo 5 - Fecha y hora preferida */}
                  <div className="group">
                    <label className="block text-xs sm:text-sm font-semibold text-gray-300 mb-2 sm:mb-3 group-focus-within:text-white transition-colors">
                      Fecha y hora preferida *
                    </label>
                    <input
                      type="datetime-local"
                      name="fechaHoraPreferida"
                      value={formData.fechaHoraPreferida}
                      onChange={handleChange}
                      required
                      className="w-full px-2 sm:px-3 py-1 sm:py-1.5 bg-white border-2 border-gray-300 rounded-lg focus:ring-4 focus:ring-black/20 focus:border-black transition-all duration-300 text-black text-sm sm:text-base"
                    />
                  </div>

                  {/* Campo 6 - Asesor preferido */}
                  <div className="group">
                    <label className="block text-xs sm:text-sm font-semibold text-gray-300 mb-2 sm:mb-3 group-focus-within:text-white transition-colors">
                      Asesor preferido *
                    </label>
                    <select
                      name="asesor"
                      value={formData.asesor}
                      onChange={handleChange}
                      required
                      className="w-full px-2 sm:px-3 py-1 sm:py-1.5 bg-white border-2 border-gray-300 rounded-lg focus:ring-4 focus:ring-black/20 focus:border-black transition-all duration-300 text-black text-sm sm:text-base"
                    >
                      <option value="">Selecciona un asesor</option>
                      <option value="Fernando Ram√≠rez">Fernando Ram√≠rez - CEO & Fundador</option>
                      <option value="Enrique Ram√≠rez">Enrique Ram√≠rez - Director de Estrategia</option>
                      <option value="Alesh Ancira">Alesh Ancira - Director de Operaciones</option>
                      <option value="Yzak Garc√≠a">Yzak Garc√≠a - Director de Desarrollo</option>
                      <option value="Sin preferencia">Sin preferencia (Te asignaremos el mejor asesor)</option>
                    </select>
                  </div>

                  {/* Campo 7 - Problema a solucionar */}
                  <div className="group sm:col-span-2 lg:col-span-1">
                    <label className="block text-xs sm:text-sm font-semibold text-gray-300 mb-2 sm:mb-3 group-focus-within:text-white transition-colors">
                      Problema a solucionar *
                    </label>
                    <textarea
                      name="problema"
                      value={formData.problema}
                      onChange={handleChange}
                      required
                      rows={4}
                      className="w-full px-2 sm:px-3 py-1.5 sm:py-2 bg-white border-2 border-gray-300 rounded-lg focus:ring-4 focus:ring-black/20 focus:border-black transition-all duration-300 text-black placeholder-gray-500 resize-none text-sm sm:text-base"
                      placeholder="Describe el problema principal que necesitas solucionar en tu negocio..."
                    />
                  </div>
                </div>
              </div>
              
              {/* Bot√≥n de env√≠o justo debajo del formulario */}
              <div className="mt-2 sm:mt-2 text-center">
                <button
                  type="submit"
                  disabled={isSubmitting}
                  className="w-full bg-black hover:bg-gray-800 text-white font-bold py-2 sm:py-3 px-6 sm:px-8 rounded-lg transition-all duration-300 transform hover:scale-105 hover:shadow-2xl disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none text-sm sm:text-base"
                >
                  {isSubmitting ? 'Redirigiendo...' : 'Enviar a WhatsApp'}
                </button>
                <p className="text-xs sm:text-sm text-gray-500 mt-3 sm:mt-4">
                  * Campos obligatorios
                </p>
              </div>
            </div>
          </form>
        </div>
      </div>
    </section>
  )
}

export default ContactForm
